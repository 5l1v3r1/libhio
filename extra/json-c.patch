diff -au a/Makefile.am b/Makefile.am
--- a/Makefile.am	2014-04-10 19:47:33.000000000 -0600
+++ b/Makefile.am	2015-12-16 12:15:51.000000000 -0700
@@ -1,6 +1,6 @@
 include Makefile.am.inc

-EXTRA_DIST = README.html README-WIN32.html config.h.win32 doc json-c.vcproj
+EXTRA_DIST = README.html README-WIN32.html config.h.win32 json-c.vcproj
 SUBDIRS = . tests

 lib_LTLIBRARIES = libjson-c.la
@@ -24,7 +24,9 @@
	json_util.h \
	linkhash.h \
	printbuf.h \
-	random_seed.h
+	random_seed.h \
+        math_compat.h \
+        json_rename.h

 #libjsonx_includedir = $(libdir)/json-c-@VERSION@
 #
diff -au a/Makefile.am.inc b/Makefile.am.inc
--- a/Makefile.am.inc	2014-04-10 18:41:08.000000000 -0600
+++ b/Makefile.am.inc	2015-12-16 12:52:34.000000000 -0700
@@ -1,2 +1,2 @@
-AM_CFLAGS = -Wall -Werror -Wno-error=deprecated-declarations -Wextra -Wwrite-strings -Wno-unused-parameter -std=gnu99 -D_GNU_SOURCE -D_REENTRANT
+AM_CFLAGS = -D_GNU_SOURCE -D_REENTRANT

diff -au a/Makefile.in b/Makefile.in
--- a/Makefile.in	2014-04-10 19:48:25.000000000 -0600
+++ b/Makefile.in	2015-12-16 12:53:13.000000000 -0700
@@ -1,4 +1,4 @@
-# Makefile.in generated by automake 1.14 from Makefile.am.
+# Makefile.in generated by automake 1.14.1 from Makefile.am.
 # @configure_input@

 # Copyright (C) 1994-2013 Free Software Foundation, Inc.
@@ -378,8 +378,8 @@
 top_build_prefix = @top_build_prefix@
 top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
-AM_CFLAGS = -Wall -Werror -Wno-error=deprecated-declarations -Wextra -Wwrite-strings -Wno-unused-parameter -std=gnu99 -D_GNU_SOURCE -D_REENTRANT
-EXTRA_DIST = README.html README-WIN32.html config.h.win32 doc json-c.vcproj
+AM_CFLAGS = -D_GNU_SOURCE -D_REENTRANT
+EXTRA_DIST = README.html README-WIN32.html config.h.win32 json-c.vcproj
 SUBDIRS = . tests
 lib_LTLIBRARIES = libjson-c.la
 pkgconfigdir = $(libdir)/pkgconfig
@@ -400,7 +400,9 @@
	json_util.h \
	linkhash.h \
	printbuf.h \
-	random_seed.h
+	random_seed.h \
+        math_compat.h \
+        json_rename.h


 #libjsonx_includedir = $(libdir)/json-c-@VERSION@
@@ -854,9 +856,10 @@
	  && dc_destdir="$${TMPDIR-/tmp}/am-dc-$$$$/" \
	  && am__cwd=`pwd` \
	  && $(am__cd) $(distdir)/_build \
-	  && ../configure --srcdir=.. --prefix="$$dc_install_base" \
+	  && ../configure \
	    $(AM_DISTCHECK_CONFIGURE_FLAGS) \
	    $(DISTCHECK_CONFIGURE_FLAGS) \
+	    --srcdir=.. --prefix="$$dc_install_base" \
	  && $(MAKE) $(AM_MAKEFLAGS) \
	  && $(MAKE) $(AM_MAKEFLAGS) dvi \
	  && $(MAKE) $(AM_MAKEFLAGS) check \
diff -au a/aclocal.m4 b/aclocal.m4
--- a/aclocal.m4	2014-04-10 19:48:18.000000000 -0600
+++ b/aclocal.m4	2015-12-16 12:13:10.000000000 -0700
@@ -1,4 +1,4 @@
-# generated automatically by aclocal 1.14 -*- Autoconf -*-
+# generated automatically by aclocal 1.14.1 -*- Autoconf -*-

 # Copyright (C) 1996-2013 Free Software Foundation, Inc.

@@ -8622,7 +8622,7 @@
 [am__api_version='1.14'
 dnl Some users find AM_AUTOMAKE_VERSION and mistake it for a way to
 dnl require some minimum version.  Point them to the right macro.
-m4_if([$1], [1.14], [],
+m4_if([$1], [1.14.1], [],
       [AC_FATAL([Do not call $0, use AM_INIT_AUTOMAKE([$1]).])])dnl
 ])

@@ -8638,7 +8638,7 @@
 # Call AM_AUTOMAKE_VERSION and AM_AUTOMAKE_VERSION so they can be traced.
 # This function is AC_REQUIREd by AM_INIT_AUTOMAKE.
 AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],
-[AM_AUTOMAKE_VERSION([1.14])dnl
+[AM_AUTOMAKE_VERSION([1.14.1])dnl
 m4_ifndef([AC_AUTOCONF_VERSION],
   [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl
 _AM_AUTOCONF_VERSION(m4_defn([AC_AUTOCONF_VERSION]))])
diff -au a/arraylist.h b/arraylist.h
--- a/arraylist.h	2014-04-10 18:41:08.000000000 -0600
+++ b/arraylist.h	2015-12-16 12:16:08.000000000 -0700
@@ -12,6 +12,8 @@
 #ifndef _arraylist_h_
 #define _arraylist_h_

+#include "json_rename.h"
+
 #ifdef __cplusplus
 extern "C" {
 #endif
diff -au a/debug.h b/debug.h
--- a/debug.h	2014-04-10 18:41:08.000000000 -0600
+++ b/debug.h	2015-12-16 12:16:08.000000000 -0700
@@ -15,6 +15,8 @@

 #include <stdlib.h>

+#include "json_rename.h"
+
 #ifdef __cplusplus
 extern "C" {
 #endif
diff -au a/json_c_version.h b/json_c_version.h
--- a/json_c_version.h	2014-04-10 19:09:19.000000000 -0600
+++ b/json_c_version.h	2015-12-16 12:16:08.000000000 -0700
@@ -8,6 +8,8 @@
 #ifndef _json_c_version_h_
 #define _json_c_version_h_

+#include "json_rename.h"
+
 #define JSON_C_MAJOR_VERSION 0
 #define JSON_C_MINOR_VERSION 12
 #define JSON_C_MICRO_VERSION 0
diff -au a/json_inttypes.h b/json_inttypes.h
--- a/json_inttypes.h	2014-04-10 18:41:08.000000000 -0600
+++ b/json_inttypes.h	2015-12-16 12:16:08.000000000 -0700
@@ -3,6 +3,7 @@
 #define _json_inttypes_h_

 #include "json_config.h"
+#include "json_rename.h"

 #if defined(_MSC_VER) && _MSC_VER <= 1700

diff -au a/json_tokener.c b/json_tokener.c
--- a/json_tokener.c	2014-04-10 18:41:08.000000000 -0600
+++ b/json_tokener.c	2015-12-16 12:16:08.000000000 -0700
@@ -352,12 +352,10 @@

     case json_tokener_state_inf: /* aka starts with 'i' */
       {
-	int size;
	int size_inf;
	int is_negative = 0;

	printbuf_memappend_fast(tok->pb, &c, 1);
-	size = json_min(tok->st_pos+1, json_null_str_len);
	size_inf = json_min(tok->st_pos+1, json_inf_str_len);
	char *infbuf = tok->pb->buf;
	if (*infbuf == '-')
diff -au a/printbuf.h b/printbuf.h
--- a/printbuf.h	2014-04-10 18:41:08.000000000 -0600
+++ b/printbuf.h	2015-12-16 12:16:08.000000000 -0700
@@ -16,6 +16,8 @@
 #ifndef _printbuf_h_
 #define _printbuf_h_

+#include "json_rename.h"
+
 #ifdef __cplusplus
 extern "C" {
 #endif
diff -au a/random_seed.c b/random_seed.c
--- a/random_seed.c	2014-04-10 18:41:08.000000000 -0600
+++ b/random_seed.c	2015-12-16 12:16:08.000000000 -0700
@@ -12,6 +12,8 @@
 #include <stdio.h>
 #include "config.h"

+#include "json_rename.h"
+
 #define DEBUG_SEED(s)


diff -au a/random_seed.h b/random_seed.h
--- a/random_seed.h	2014-04-10 18:41:08.000000000 -0600
+++ b/random_seed.h	2015-12-16 12:16:08.000000000 -0700
@@ -12,6 +12,8 @@
 #ifndef seed_h
 #define seed_h

+#include "json_rename.h"
+
 #ifdef __cplusplus
 extern "C" {
 #endif
